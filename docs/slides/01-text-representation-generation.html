<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.358">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andrew Ellis">

<title>Exploring LLMs for Teaching and Learning - LLMs: Text representation, training, and text generation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//assets/robot.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    null
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta property="og:title" content="Exploring LLMs for Teaching and Learning - LLMs: Text representation, training, and text generation">
<meta property="og:description" content="">
<meta property="og:site_name" content="Exploring LLMs for Teaching and Learning">
<meta name="twitter:title" content="Exploring LLMs for Teaching and Learning - LLMs: Text representation, training, and text generation">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@awellis">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Exploring LLMs for Teaching and Learning</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../pages/programme.html"> 
<span class="menu-text">üìö Schedule</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-slides" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">üì∫ Slides</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-slides">    
        <li>
    <a class="dropdown-item" href="../slides/00-introduction.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../slides/01-text-representation-generation.html">
 <span class="dropdown-text">Part 1: Text representation, training and text generation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../slides/02-prompting-techniques.html">
 <span class="dropdown-text">Part 2: Prompting techniques</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../slides/03-prompting-learning-teaching.html">
 <span class="dropdown-text">Part 3: Prompting for learning and teaching</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">üéì Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tutorials">    
        <li>
    <a class="dropdown-item" href="../pages/text-representation.html">
 <span class="dropdown-text">Text representation: embeddings</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-activities" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">üíº Activities</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-activities">    
        <li>
    <a class="dropdown-item" href="../pages/activity-1-exploring-llms.qmd">
 <span class="dropdown-text">Activity 1: Exploring LLMs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../pages/activity-2-prompting-techniques.html">
 <span class="dropdown-text">Activity 2: Prompting techniques</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../pages/activity-3-prompting-learning-teaching.html">
 <span class="dropdown-text">Activity 3: Prompting for teaching and learning</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">üõ†Ô∏è Resources</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="../pages/resources.html">
 <span class="dropdown-text">Ratgeber</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../pages/tools.html">
 <span class="dropdown-text">Tools</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools tools-wide">
    <a href="../pages/assistant.html" title="Assistant" class="quarto-navigation-tool px-1" aria-label="Assistant"><i class="bi bi-robot"></i></a>
    <a href="https://virtuelleakademie.ch/knowledge-base/" title="Knowledge Base" class="quarto-navigation-tool px-1" aria-label="Knowledge Base"><i class="bi bi-lightbulb-fill"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/virtuelleakademie/promptly-literate/">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/virtuelleakademie/promptly-literate/issues">
            Report a Bug
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#contents" id="toc-contents" class="nav-link active" data-scroll-target="#contents">Contents</a></li>
  <li><a href="#what-is-natural-language-processing-nlp" id="toc-what-is-natural-language-processing-nlp" class="nav-link" data-scroll-target="#what-is-natural-language-processing-nlp">What is natural language processing (NLP)?</a>
  <ul class="collapse">
  <li><a href="#what-is-nlp" id="toc-what-is-nlp" class="nav-link" data-scroll-target="#what-is-nlp">What is NLP?</a>
  <ul class="collapse">
  <li><a href="#brief-timeline" id="toc-brief-timeline" class="nav-link" data-scroll-target="#brief-timeline">Brief timeline</a></li>
  </ul></li>
  <li><a href="#long-range-dependencies" id="toc-long-range-dependencies" class="nav-link" data-scroll-target="#long-range-dependencies">Long-range dependencies</a></li>
  <li><a href="#key-areas-in-nlp" id="toc-key-areas-in-nlp" class="nav-link" data-scroll-target="#key-areas-in-nlp">Key areas in NLP</a></li>
  <li><a href="#example-sentiment-analysis-text-classification" id="toc-example-sentiment-analysis-text-classification" class="nav-link" data-scroll-target="#example-sentiment-analysis-text-classification">Example: sentiment analysis (text classification)</a></li>
  <li><a href="#machine-learning-primer" id="toc-machine-learning-primer" class="nav-link" data-scroll-target="#machine-learning-primer">Machine Learning primer</a></li>
  <li><a href="#supervised-learning" id="toc-supervised-learning" class="nav-link" data-scroll-target="#supervised-learning">Supervised learning</a></li>
  <li><a href="#reinforcement-learning" id="toc-reinforcement-learning" class="nav-link" data-scroll-target="#reinforcement-learning">Reinforcement learning</a></li>
  </ul></li>
  <li><a href="#what-is-chatgpt" id="toc-what-is-chatgpt" class="nav-link" data-scroll-target="#what-is-chatgpt">What is ChatGPT?</a>
  <ul class="collapse">
  <li><a href="#chatgpt" id="toc-chatgpt" class="nav-link" data-scroll-target="#chatgpt">ChatGPT</a></li>
  <li><a href="#text-generation" id="toc-text-generation" class="nav-link" data-scroll-target="#text-generation">Text generation</a></li>
  <li><a href="#text-generation-examples" id="toc-text-generation-examples" class="nav-link" data-scroll-target="#text-generation-examples">Text generation examples</a></li>
  <li><a href="#tokenization" id="toc-tokenization" class="nav-link" data-scroll-target="#tokenization">Tokenization</a></li>
  <li><a href="#embeddings" id="toc-embeddings" class="nav-link" data-scroll-target="#embeddings">Embeddings</a></li>
  </ul></li>
  <li><a href="#how-was-chatgpt-trained" id="toc-how-was-chatgpt-trained" class="nav-link" data-scroll-target="#how-was-chatgpt-trained">How was ChatGPT trained?</a>
  <ul class="collapse">
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#pre-training-data" id="toc-pre-training-data" class="nav-link" data-scroll-target="#pre-training-data">Pre-training Data</a></li>
  <li><a href="#pre-training" id="toc-pre-training" class="nav-link" data-scroll-target="#pre-training">Pre-training</a></li>
  <li><a href="#supervised-fine-tuning" id="toc-supervised-fine-tuning" class="nav-link" data-scroll-target="#supervised-fine-tuning">Supervised fine-tuning</a></li>
  <li><a href="#reinforcement-learning-from-human-feedback-rlhf" id="toc-reinforcement-learning-from-human-feedback-rlhf" class="nav-link" data-scroll-target="#reinforcement-learning-from-human-feedback-rlhf">Reinforcement learning from human feedback (RLHF)</a></li>
  </ul></li>
  <li><a href="#how-should-we-think-about-llms" id="toc-how-should-we-think-about-llms" class="nav-link" data-scroll-target="#how-should-we-think-about-llms">How should we think about LLMs?</a>
  <ul class="collapse">
  <li><a href="#useful-analogy-role-playing-simulator" id="toc-useful-analogy-role-playing-simulator" class="nav-link" data-scroll-target="#useful-analogy-role-playing-simulator">Useful analogy: Role-playing simulator</a></li>
  <li><a href="#role-playing-simulator" id="toc-role-playing-simulator" class="nav-link" data-scroll-target="#role-playing-simulator">Role-Playing Simulator</a></li>
  </ul></li>
  <li><a href="#chatgpt-and-openai-playground" id="toc-chatgpt-and-openai-playground" class="nav-link" data-scroll-target="#chatgpt-and-openai-playground">ChatGPT and OpenAI Playground</a>
  <ul class="collapse">
  <li><a href="#chatgpt-vs-openai-playground" id="toc-chatgpt-vs-openai-playground" class="nav-link" data-scroll-target="#chatgpt-vs-openai-playground">ChatGPT vs OpenAI Playground</a></li>
  </ul></li>
  <li><a href="#idea-generation" id="toc-idea-generation" class="nav-link" data-scroll-target="#idea-generation">Idea Generation</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="01-text-representation-generation.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">LLMs: Text representation, training, and text generation</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andrew Ellis </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">14 September, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>

<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-1_50e6d9e925d8ce4dba2e76f3372e7878">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="contents" class="level1" data-background-color="#b48ead">
<h1 data-background-color="#b48ead">Contents</h1>
<ol type="1">
<li>What is natural language processing?</li>
<li>How do LLMs represent text?</li>
<li>What is ChatGPT?</li>
<li>How was ChatGPT trained??</li>
<li>How should we think about LLMs?</li>
<li>ChatGPT and OpenAI Playground?</li>
</ol>
<!-- ::: footer
<a href="https://virtuelleakademie.github.io/gpt-nano">üè† KI/GPT in der Hochschule</a>
::: -->
</section>
<section id="what-is-natural-language-processing-nlp" class="level1" data-background-color="#b48ead">
<h1 data-background-color="#b48ead">What is natural language processing (NLP)?</h1>
<div class="absolute" data-top="0" data-left="100%">
<div class="sectionhead">
<p>1 <span style="opacity:0.25">2 3 4 5 6</span></p>
</div>
</div>
<section id="what-is-nlp" class="level2">
<h2 class="anchored" data-anchor-id="what-is-nlp">What is NLP?</h2>
<ul>
<li>NLP is a subfield of <a href="(https://www.derbund.ch/so-funktioniert-kuenstliche-intelligenz-599276436215)">artificial intelligence (AI)</a>.</li>
<li>NLP is concerned with the interactions between computers and human (natural) languages.</li>
</ul>
<section id="brief-timeline" class="level3">
<h3 class="anchored" data-anchor-id="brief-timeline">Brief timeline</h3>
<ul>
<li>1950: Alan Turing proposed the Turing test to assess machine intelligence through language conversation.</li>
<li>1954: IBM introduced the first machine translation system, translating Russian to English using rules.</li>
<li>1960s-1970s: Rule-based systems like SHRDLU and ELIZA used human-crafted rules for language interaction.</li>
<li>1980s-1990s: Statistical methods employed probabilities and text data, using models like Hidden Markov Models and n-grams.</li>
<li>2000s-present: NLP shifted to neural network methods with deep learning, employing recurrent neural networks for complex language tasks.</li>
<li>Transformers (first published in 2017) are the current state-of-the-art for NLP, and are the basis for large language models (LLMs), such as GPT-3.5, GPT-4, ChatGPT, Llama 2, and others.</li>
<li>LLMs are models with billions of parameters, trained on massive amounts of text data. Training consists of predicting the next word in a sequence of words.</li>
</ul>
</section>
</section>
<section id="long-range-dependencies" class="level2">
<h2 class="anchored" data-anchor-id="long-range-dependencies">Long-range dependencies</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Complicated sentence
</div>
</div>
<div class="callout-body-container callout-body">
<p>‚ÄúThe boy who was throwing stones at the birds, despite being warned by his parents not to harm any creatures, was chased by the angry flock.‚Äù</p>
</div>
</div>
<p>Who was chased?</p>
<ul>
<li>This type of long-range dependency is difficult for traditional NLP methods to handle.</li>
<li>The verb phrase (<code>the boy was chased</code>) is separated from the subject by a long distance - you can‚Äôt just look at the previous few words to answer the question.</li>
<li>Transformers have a special feature that lets them easily connect words that are far apart in a sentence; <code>was chased</code> is linked directly to <code>The boy</code> without distraction by the words in between.</li>
</ul>
</section>
<section id="key-areas-in-nlp" class="level2">
<h2 class="anchored" data-anchor-id="key-areas-in-nlp">Key areas in NLP</h2>
<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><code>Sentiment Analysis</code>: Identifying emotions and opinions in text.<br>
<code>Machine Translation</code>: Automatically translating between languages.<br>
<code>Question Answering</code>: Providing direct answers to user questions.<br>
<code>Text Summarization</code>: Generating concise summaries from long text.<br>
<code>Speech Recognition</code>: Converting spoken words to text.<br>
<code>Speech Synthesis</code>: Creating spoken words from text.<br>
<code>Natural Language Generation</code>: Generating human-like text.<br>
<code>Natural Language Understanding</code>: Extracting meaning from text.<br>
<code>Dialogue Systems</code>: Conversing with humans using natural language.</p>
</div>
</div>
</div>
<ul>
<li>Before LLMs, specialized models were trained for each task.</li>
<li>LLMs are general-purpose models that can perform a wide variety of tasks.</li>
</ul>
</section>
<section id="example-sentiment-analysis-text-classification" class="level2">
<h2 class="anchored" data-anchor-id="example-sentiment-analysis-text-classification">Example: sentiment analysis (text classification)</h2>
<p>The task of classifying text as positive, negative, or neutral.</p>
<ul>
<li><code>I love this movie!</code> ‚Üí positive üòä</li>
<li><code>This movie is ok.</code> ‚Üí neutral üòê</li>
<li><code>This movie is terrible!</code> ‚Üí negative üò†</li>
</ul>
</section>
<section id="machine-learning-primer" class="level2">
<h2 class="anchored" data-anchor-id="machine-learning-primer">Machine Learning primer</h2>
<ul>
<li><p>Earlier, rule-based systems had to be programmed.</p></li>
<li><p>Machine learning (ML) models learn implicitly, i.e.&nbsp;without rules being programmed in.</p></li>
<li><p>Important terms:</p>
<ul>
<li><strong>training data:</strong> Models are fed with data, and parameters of the model are adjusted so that the model is as ‚Äúgood‚Äù as possible.</li>
<li><strong>supervised learning:</strong> Categories known, e.g.&nbsp;classify images of animals.</li>
<li><strong>unsupervised learning:</strong> Categories are unknown, e.g.&nbsp;discover unknown patterns.</li>
<li>Unbekannte Muster entdecken.</li>
<li><strong>reinforcement learning:</strong> The goal is given, and the model learns through feedback (reward) how the goal can be achieved.</li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p>We have to learn the bitter lesson that building in how we think we think does not work in the long run. We should stop trying to find simple ways to think about space, objects, multiple agents, or symmetries‚Ä¶ instead we should build in only the meta-methods that can find and capture this arbitrary complexity. We want AI agents that can discover like we can, not which contain what we have discovered <span class="citation" data-cites="suttonBitterLesson2019">(<a href="#ref-suttonBitterLesson2019" role="doc-biblioref">Sutton 2019</a>)</span>.</p>
</blockquote>
</section>
<section id="supervised-learning" class="level2">
<h2 class="anchored" data-anchor-id="supervised-learning">Supervised learning</h2>
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-2_a3358bb83e753928e07bd13adf71bd6b">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/cats-dogs.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/cats-dogs.png" class="img-fluid" width="496"></p>
</div>
</div>
<p><strong>Classifiy pictures of cats and dogs:</strong> The goal of a model could be to discover which features distinguish cats from dogs.</p>
</section>
<section id="reinforcement-learning" class="level2">
<h2 class="anchored" data-anchor-id="reinforcement-learning">Reinforcement learning</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-3_a6492af38a6d0807d0440bd32ecfdded">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/cartpole.gif"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/cartpole.gif" class="img-fluid"></p>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-4_f28c47b91677ee53a1a155c4441ff742">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/RL-agent.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/RL-agent.png" class="img-fluid" width="803"></p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="what-is-chatgpt" class="level1" data-background-color="#b48ead">
<h1 data-background-color="#b48ead">What is ChatGPT?</h1>
<div class="absolute" data-top="0" data-left="100%">
<div class="sectionhead">
<p><span style="opacity:0.25">1</span> 2 <span style="opacity:0.25">3 4 5 6</span></p>
</div>
</div>
<section id="chatgpt" class="level2">
<h2 class="anchored" data-anchor-id="chatgpt">ChatGPT</h2>
<p>ChatGPT is a particular kind of LLM and consists of two models:</p>
<p><strong>Base model:</strong> GPT-3.5 oder GPT-4 (generative pre-trained transformer). This model is trained ‚Äúsimply‚Äù to predict the next word in a sequence of words. A base model produces text, but not human-like conversations.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>Give the input <code>Once upon a time there was a</code>, the model will predict which word is likely to follow.</p>
</div>
</div>
<p><strong>Assistant model:</strong> This model is trained using reinforcement learning from human feedback to have human-like conversations.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>üë©‚Äçüíº: <code>Tell me a story!</code></p>
<p>üí¨: <code>Once upon a time there was a ....</code></p>
</div>
</div>
</section>
<section id="text-generation" class="level2">
<h2 class="anchored" data-anchor-id="text-generation">Text generation</h2>
<ul>
<li><p>LLMs produce text by predicting the next word, one word at a time:</p></li>
<li><p>This is known as ‚Äúauto-regressive next toke prediction‚Äù (we‚Äôll discover what tokens are in the next section).</p></li>
<li><p>The model predicts which token is likely to follow, given a sequence of tokens (words, punctuation, emojis, etc.).</p></li>
<li><p>Key idea: this simple procedure is followed over and over again, with <mark style="background: #FFF3A3A6;">each new token being added to the sequence of tokens</mark> that the model uses to predict the next token. <span class="math display">\[ P(w_{w+1} | w_1, w_2, ..., w_t) \]</span></p></li>
<li><p>The sequence of words is called the <mark style="background: #FFF3A3A6;">context</mark>; the text generated by the model is dependent on the context.</p></li>
<li><p>The output of the model is a probability distribution over all possible tokens. The model then chooses one token from this distribution.</p></li>
</ul>
</section>
<section id="text-generation-examples" class="level2">
<h2 class="anchored" data-anchor-id="text-generation-examples">Text generation examples</h2>
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-5_b57cf3738b7f7927d6fb6c76a30c9a30">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/autoregressive.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/autoregressive.png" class="img-fluid" width="538"></p>
</div>
</div>
<ul>
<li>The new context is used to generate the next token, etc.</li>
<li><mark style="background: #FFF3A3A6;">Every token is given an equal amount time (computation per token is constant)</mark>. The model has no concept of more or less important tokens. This is crucial for understanding how LLMs work.</li>
</ul>
</section>
<section id="tokenization" class="level2">
<h2 class="anchored" data-anchor-id="tokenization">Tokenization</h2>
<p>So far we have been talking about words, but LLMs operate with tokens. These are sub-words, and make working with text much easier for the model. A rule of thumb is that one token generally corresponds to ~4 characters of English text. This translates to roughly <span class="math inline">\(\frac{3}{4}\)</span> of a word (so 100 tokens is about 75 words).</p>
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-6_6e8a19c777bc88884db04a5a632e2d83">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/tokenization.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/tokenization.png" class="img-fluid" width="675"></p>
</div>
</div>
<p>Feel free to try out the <a href="https://platform.openai.com/tokenizer">OpenAI tokenizer</a>.</p>
</section>
<section id="embeddings" class="level2">
<h2 class="anchored" data-anchor-id="embeddings">Embeddings</h2>
<ul>
<li>The next step is to represent tokens as vectors.</li>
<li>This is called ‚Äúembedding‚Äù the tokens. The vectors are high-dimensional, and the <strong>distance</strong> between vectors measures the similarity between tokens.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-7_b2f452d2f025f2b8664c67ec4d031626">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/embedding.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/embedding.png" class="img-fluid" width="751"></p>
</div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>In this 2-dimensional representation, concepts that are ‚Äúrelated‚Äù lie close together.</li>
</ul>
</div>
</div>
<p>You can read more about embeddings <a href="../pages/text-representation.html">in this tutorial</a>.</p>
</section>
</section>
<section id="how-was-chatgpt-trained" class="level1" data-background-color="#b48ead">
<h1 data-background-color="#b48ead">How was ChatGPT trained?</h1>
<div class="absolute" data-top="0" data-left="100%">
<div class="sectionhead">
<p><span style="opacity:0.25">1 2</span> 3 <span style="opacity:0.25">4 5 6</span></p>
</div>
</div>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>Modern LLMs, such as ChatGPT, are trained in 3 steps:</p>
<ol type="1">
<li>Pre-training: the model absorbs knowledge from text datasets.</li>
<li>Supervised finetuning: model is refined to better adhere to specific instructions.</li>
<li>Alignment: hones the LLM to respond more helpfully and safely to user prompts. This step is known as ‚Äúreinforcement learning from human feedback‚Äù (RLHF).</li>
</ol>
</section>
<section id="pre-training-data" class="level2">
<h2 class="anchored" data-anchor-id="pre-training-data">Pre-training Data</h2>
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-8_269b16cfb6e3978788310ee1d2193f13">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/karpathy-training-data.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/karpathy-training-data.png" class="img-fluid" width="723"></p>
</div>
</div>
</section>
<section id="pre-training" class="level2">
<h2 class="anchored" data-anchor-id="pre-training">Pre-training</h2>
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-9_163e8debb6ab709a47315ff7ad1eb3ee">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/pretraining.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/pretraining.png" class="img-fluid" width="576"></p>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/karpathy-training-process.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/karpathy-training-process.png" class="img-fluid" width="723"></p>
</div>
</div>
</section>
<section id="supervised-fine-tuning" class="level2">
<h2 class="anchored" data-anchor-id="supervised-fine-tuning">Supervised fine-tuning</h2>
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-10_5e2fa132d722b5219ae74bdce939c406">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/finetuning.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="../assets/images/finetuning.png" class="img-fluid" width="501"></p>
</div>
</div>
</section>
<section id="reinforcement-learning-from-human-feedback-rlhf" class="level2">
<h2 class="anchored" data-anchor-id="reinforcement-learning-from-human-feedback-rlhf">Reinforcement learning from human feedback (RLHF)</h2>
<p>Uses human feedback to rank the model‚Äôs responses. The goal is for the model to learn human preferences for responses.</p>
<div class="cell" data-hash="01-text-representation-generation_cache/html/unnamed-chunk-12_6557bff188ca77607e9bc4029f37e495">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"../assets/images/RLHF.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../assets/images/RLHF.png" class="img-fluid figure-img" width="2053"></p>
<figcaption class="figure-caption">Source: <a href="https://openai.com/blog/chatgpt">openai.com/blog/chatgpt</a></figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="how-should-we-think-about-llms" class="level1" data-background-color="#b48ead">
<h1 data-background-color="#b48ead">How should we think about LLMs?</h1>
<div class="absolute" data-top="0" data-left="100%">
<div class="sectionhead">
<p><span style="opacity:0.25">1 2 3 4</span> 5 <span style="opacity:0.25">6</span></p>
</div>
</div>
<section id="useful-analogy-role-playing-simulator" class="level2">
<h2 class="anchored" data-anchor-id="useful-analogy-role-playing-simulator">Useful analogy: Role-playing simulator</h2>
<blockquote class="blockquote">
<p>We can think of an LLM as a non-deterministic simulator capable of role-playing an infinity of characters, or, to put it another way, capable of stochastically generating an infinity of simulacra.</p>
</blockquote>
<p>Source: <span class="citation" data-cites="shanahanRolePlayLargeLanguage2023">Shanahan, McDonell, and Reynolds (<a href="#ref-shanahanRolePlayLargeLanguage2023" role="doc-biblioref">2023</a>)</span></p>
<ul>
<li>A large language model (LLM) trained as an assistant is a simulator of possible human conversation.</li>
<li>An assistant model does not have any intentions. It is not an entity with its own goals. It is merely trained to respond to user prompts in a human-like way.</li>
<li>An assistant model does not have a ‚Äúpersonality‚Äù or ‚Äúcharacter‚Äù in the traditional sense. It is a simulation of a conversation, and can be thought of as a role-playing simulator.</li>
<li>There is no concept of ‚Äútruth‚Äù or ‚Äúlying‚Äù in a role-playing simulator. The model is not trying to deceive the user, it is simply trying to respond in a human-like way.</li>
</ul>
<p>This is very important when we try to understand why LLMs hallucinate, i.e.&nbsp;generate text that is not factually true.</p>
</section>
<section id="role-playing-simulator" class="level2">
<h2 class="anchored" data-anchor-id="role-playing-simulator">Role-Playing Simulator</h2>
<p><img src="../assets/images/simulator.png" class="img-fluid" width="800"></p>
</section>
</section>
<section id="chatgpt-and-openai-playground" class="level1" data-background-color="#b48ead">
<h1 data-background-color="#b48ead">ChatGPT and OpenAI Playground</h1>
<div class="absolute" data-top="0" data-left="100%">
<div class="sectionhead">
<p><span style="opacity:0.25">1 2 3 4 5</span> 6</p>
</div>
</div>
<section id="chatgpt-vs-openai-playground" class="level2">
<h2 class="anchored" data-anchor-id="chatgpt-vs-openai-playground">ChatGPT vs OpenAI Playground</h2>
<p>OpenAI offer two ways to interact with their assistant model:</p>
<ol type="1">
<li>ChatGPT: A web interface where you can chat with the model.</li>
<li>OpenAI Playground: A web interface that gives users more control over the model.</li>
</ol>
<p>Now open the first activity to learn more about ChatGPT and OpenAI Playground: <a href="../pages/activity-1-explore-llms.html">üëâ Activity 1</a>.</p>
</section>
</section>
<section id="idea-generation" class="level1" data-background-color="#b48ead">
<h1 data-background-color="#b48ead">Idea Generation</h1>
<p>üéØ Highlights - An introductory session on the mechanics of GenAI, focusing on ChatGPT - Hands-on demos and case studies across multiple use cases - Idea Generation workshop: Teams brainstormed how GenAI could be implemented in their respective fields</p>
</section>
<section id="references" class="level1" data-background-color="#2e3440">
<h1 data-background-color="#2e3440">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-broschinskiGrafikenErklaertFunktioniert2023" class="csl-entry" role="listitem">
Broschinski, Sebastian, Titus Plattner, Patrick Meier, and Patrick V√∂geli. 2023. <span>‚ÄúIn 9 Grafiken erkl√§rt ‚Äì So funktioniert k√ºnstliche Intelligenz.‚Äù</span> <span>Der Bund</span>. June 10, 2023. <a href="https://www.derbund.ch/so-funktioniert-kuenstliche-intelligenz-599276436215">https://www.derbund.ch/so-funktioniert-kuenstliche-intelligenz-599276436215</a>.
</div>
<div id="ref-shanahanRolePlayLargeLanguage2023" class="csl-entry" role="listitem">
Shanahan, Murray, Kyle McDonell, and Laria Reynolds. 2023. <span>‚ÄúRole-<span>Play</span> with <span>Large Language Models</span>.‚Äù</span> May 25, 2023. <a href="https://doi.org/10.48550/arXiv.2305.16367">https://doi.org/10.48550/arXiv.2305.16367</a>.
</div>
<div id="ref-suttonBitterLesson2019" class="csl-entry" role="listitem">
Sutton, Rich. 2019. <span>‚ÄúThe <span>Bitter Lesson</span>.‚Äù</span> 2019. <a href="http://incompleteideas.net/IncIdeas/BitterLesson.html">http://incompleteideas.net/IncIdeas/BitterLesson.html</a>.
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp("https:\/\/virtuelleakademie\.github\.io\/promptly-literate");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->




</body></html>